<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="400" height="300" viewBox="0 0 400 300" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <marker id="arrow" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#1f2937"/>
    </marker>
    <marker id="arrow-red" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#dc2626"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="400" height="300" fill="#fefefe"/>

  <!-- Title -->
  <text x="200" y="30" font-family="Georgia, serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#1f2937">
    Grating: n(r) Variation
  </text>

  <!-- Grating (stepped edge profile) -->
  <path d="M100 60
           L100 90 L130 90
           L130 120 L100 120
           L100 150 L130 150
           L130 180 L100 180
           L100 210 L130 210
           L130 240 L100 240"
        fill="none" stroke="#2563eb" stroke-width="4" stroke-linejoin="round" stroke-linecap="round"/>

  <!-- n(r) label -->
  <text x="75" y="155" font-family="Georgia, serif" font-size="14" font-style="italic" fill="#2563eb">n(r)</text>

  <!-- Position axis -->
  <line x1="90" y1="250" x2="150" y2="250" stroke="#1f2937" stroke-width="1.5" marker-end="url(#arrow)"/>
  <text x="160" y="255" font-family="Georgia, serif" font-size="14" font-style="italic" fill="#1f2937">r</text>

  <!-- Lambda bracket -->
  <line x1="100" y1="90" x2="100" y2="120" stroke="#dc2626" stroke-width="2"/>
  <line x1="95" y1="93" x2="105" y2="93" stroke="#dc2626" stroke-width="2"/>
  <line x1="95" y1="117" x2="105" y2="117" stroke="#dc2626" stroke-width="2"/>

  <!-- Lambda annotation arrow -->
  <line x1="165" y1="105" x2="115" y2="105" stroke="#dc2626" stroke-width="1.5" marker-end="url(#arrow-red)"/>
  <text x="175" y="110" font-family="Georgia, serif" font-size="14" font-style="italic" fill="#dc2626">λ</text>

  <!-- Annotation box -->
  <rect x="180" y="130" width="200" height="70" rx="5" fill="#fef2f2" stroke="#fecaca" stroke-width="1"/>
  <text x="280" y="155" font-family="Georgia, serif" font-size="13" text-anchor="middle" fill="#991b1b">
    Requirement:
  </text>
  <text x="280" y="175" font-family="Georgia, serif" font-size="13" text-anchor="middle" fill="#991b1b">
    n(r) must not change
  </text>
  <text x="280" y="195" font-family="Georgia, serif" font-size="13" text-anchor="middle" fill="#991b1b">
    significantly over distance λ
  </text>

  <!-- Summary box -->
  <rect x="50" y="260" width="300" height="30" rx="5" fill="#f3f4f6" stroke="#d1d5db" stroke-width="1"/>
  <text x="200" y="280" font-family="Georgia, serif" font-size="13" text-anchor="middle" fill="#1f2937">
    ε(r) ≈ constant across λ
  </text>

  <style>
    line, path { stroke-linecap: round; stroke-linejoin: round; }
  </style>
</svg>
