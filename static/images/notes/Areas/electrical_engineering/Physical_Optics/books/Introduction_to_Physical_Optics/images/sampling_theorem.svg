<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="900" height="520" viewBox="0 0 900 520" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Arrow markers -->
    <marker id="arrow-black" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#1f2937"/>
    </marker>
    <marker id="arrow-blue" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#2563eb"/>
    </marker>
    <marker id="arrow-purple" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#7c3aed"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="900" height="520" fill="#fefefe"/>

  <!-- Title -->
  <text x="450" y="32" font-family="Georgia, serif" font-size="20" font-weight="bold" text-anchor="middle" fill="#1f2937">
    Sampling Theorem
  </text>

  <!-- ============ TOP ROW: REAL SPACE ============ -->

  <text x="40" y="70" font-family="Georgia, serif" font-size="14" font-weight="bold" fill="#2563eb">
    Real Space
  </text>

  <!-- Box 1: Original continuous signal g(x) -->
  <rect x="30" y="85" width="180" height="130" rx="6" fill="#eff6ff" stroke="#2563eb" stroke-width="2"/>

  <!-- Axis for signal -->
  <line x1="45" y1="160" x2="195" y2="160" stroke="#9ca3af" stroke-width="1" marker-end="url(#arrow-black)"/>
  <line x1="120" y1="200" x2="120" y2="100" stroke="#9ca3af" stroke-width="1"/>
  <text x="200" y="165" font-family="Georgia, serif" font-size="11" fill="#6b7280">x</text>

  <!-- Smooth band-limited signal (sinc-like envelope) -->
  <path d="M 50 160
           Q 60 130, 70 145
           Q 80 160, 90 125
           Q 100 95, 110 110
           Q 120 130, 130 110
           Q 140 95, 150 125
           Q 160 160, 170 145
           Q 180 130, 190 160"
        fill="none" stroke="#2563eb" stroke-width="2.5"/>

  <text x="120" y="225" font-family="Georgia, serif" font-size="13" font-style="italic" text-anchor="middle" fill="#2563eb">g(x)</text>

  <!-- Multiplication symbol -->
  <text x="230" y="155" font-family="Georgia, serif" font-size="24" text-anchor="middle" fill="#1f2937">×</text>

  <!-- Box 2: Comb function -->
  <rect x="260" y="85" width="140" height="130" rx="6" fill="#f5f3ff" stroke="#7c3aed" stroke-width="2"/>

  <!-- Axis for comb -->
  <line x1="275" y1="160" x2="385" y2="160" stroke="#9ca3af" stroke-width="1" marker-end="url(#arrow-black)"/>
  <line x1="330" y1="200" x2="330" y2="100" stroke="#9ca3af" stroke-width="1"/>
  <text x="390" y="165" font-family="Georgia, serif" font-size="11" fill="#6b7280">x</text>

  <!-- Delta function spikes (comb) -->
  <g stroke="#7c3aed" stroke-width="2">
    <line x1="290" y1="160" x2="290" y2="110"/>
    <line x1="310" y1="160" x2="310" y2="110"/>
    <line x1="330" y1="160" x2="330" y2="110"/>
    <line x1="350" y1="160" x2="350" y2="110"/>
    <line x1="370" y1="160" x2="370" y2="110"/>
  </g>
  <!-- Arrow heads on deltas -->
  <g fill="#7c3aed">
    <polygon points="290,110 287,118 293,118"/>
    <polygon points="310,110 307,118 313,118"/>
    <polygon points="330,110 327,118 333,118"/>
    <polygon points="350,110 347,118 353,118"/>
    <polygon points="370,110 367,118 373,118"/>
  </g>

  <!-- Spacing annotation -->
  <line x1="310" y1="175" x2="330" y2="175" stroke="#7c3aed" stroke-width="1"/>
  <line x1="310" y1="172" x2="310" y2="178" stroke="#7c3aed" stroke-width="1"/>
  <line x1="330" y1="172" x2="330" y2="178" stroke="#7c3aed" stroke-width="1"/>
  <text x="320" y="188" font-family="Georgia, serif" font-size="10" text-anchor="middle" fill="#7c3aed">a</text>

  <text x="330" y="225" font-family="Georgia, serif" font-size="13" font-style="italic" text-anchor="middle" fill="#7c3aed">comb(x/a)</text>

  <!-- Equals symbol -->
  <text x="420" y="155" font-family="Georgia, serif" font-size="24" text-anchor="middle" fill="#1f2937">=</text>

  <!-- Box 3: Sampled signal -->
  <rect x="450" y="85" width="180" height="130" rx="6" fill="#ecfdf5" stroke="#059669" stroke-width="2"/>

  <!-- Axis for sampled -->
  <line x1="465" y1="160" x2="615" y2="160" stroke="#9ca3af" stroke-width="1" marker-end="url(#arrow-black)"/>
  <line x1="540" y1="200" x2="540" y2="100" stroke="#9ca3af" stroke-width="1"/>
  <text x="620" y="165" font-family="Georgia, serif" font-size="11" fill="#6b7280">x</text>

  <!-- Sampled impulses (varying heights matching signal) -->
  <g stroke="#059669" stroke-width="2.5">
    <line x1="480" y1="160" x2="480" y2="145"/>
    <line x1="500" y1="160" x2="500" y2="125"/>
    <line x1="520" y1="160" x2="520" y2="110"/>
    <line x1="540" y1="160" x2="540" y2="130"/>
    <line x1="560" y1="160" x2="560" y2="110"/>
    <line x1="580" y1="160" x2="580" y2="125"/>
    <line x1="600" y1="160" x2="600" y2="145"/>
  </g>
  <!-- Dots at sample points -->
  <g fill="#059669">
    <circle cx="480" cy="145" r="4"/>
    <circle cx="500" cy="125" r="4"/>
    <circle cx="520" cy="110" r="4"/>
    <circle cx="540" cy="130" r="4"/>
    <circle cx="560" cy="110" r="4"/>
    <circle cx="580" cy="125" r="4"/>
    <circle cx="600" cy="145" r="4"/>
  </g>

  <text x="540" y="225" font-family="Georgia, serif" font-size="13" font-style="italic" text-anchor="middle" fill="#059669">g_s(x)</text>

  <!-- ============ FOURIER TRANSFORM ARROWS ============ -->

  <g stroke="#1f2937" stroke-width="2" fill="none">
    <path d="M 120 230 L 120 265" marker-end="url(#arrow-black)"/>
    <path d="M 330 230 L 330 265" marker-end="url(#arrow-black)"/>
    <path d="M 540 230 L 540 265" marker-end="url(#arrow-black)"/>
  </g>
  <text x="135" y="255" font-family="Georgia, serif" font-size="12" fill="#1f2937">ℱ</text>
  <text x="345" y="255" font-family="Georgia, serif" font-size="12" fill="#1f2937">ℱ</text>
  <text x="555" y="255" font-family="Georgia, serif" font-size="12" fill="#1f2937">ℱ</text>

  <!-- ============ BOTTOM ROW: FOURIER SPACE ============ -->

  <text x="40" y="290" font-family="Georgia, serif" font-size="14" font-weight="bold" fill="#dc2626">
    Fourier Space
  </text>

  <!-- Box 4: Spectrum G(f) -->
  <rect x="30" y="305" width="180" height="130" rx="6" fill="#fef2f2" stroke="#dc2626" stroke-width="2"/>

  <!-- Axis for spectrum -->
  <line x1="45" y1="380" x2="195" y2="380" stroke="#9ca3af" stroke-width="1" marker-end="url(#arrow-black)"/>
  <line x1="120" y1="420" x2="120" y2="320" stroke="#9ca3af" stroke-width="1"/>
  <text x="200" y="385" font-family="Georgia, serif" font-size="11" fill="#6b7280">f</text>

  <!-- Band-limited spectrum (triangle/trapezoid shape) -->
  <path d="M 70 380 L 90 340 L 150 340 L 170 380"
        fill="#fecaca" fill-opacity="0.5" stroke="#dc2626" stroke-width="2.5"/>

  <!-- Bandwidth markers -->
  <line x1="70" y1="390" x2="70" y2="395" stroke="#dc2626" stroke-width="1.5"/>
  <line x1="170" y1="390" x2="170" y2="395" stroke="#dc2626" stroke-width="1.5"/>
  <text x="70" y="408" font-family="Georgia, serif" font-size="10" text-anchor="middle" fill="#dc2626">−B</text>
  <text x="170" y="408" font-family="Georgia, serif" font-size="10" text-anchor="middle" fill="#dc2626">B</text>

  <text x="120" y="455" font-family="Georgia, serif" font-size="13" font-style="italic" text-anchor="middle" fill="#dc2626">G̃(f)</text>

  <!-- Convolution symbol -->
  <text x="230" y="375" font-family="Georgia, serif" font-size="24" text-anchor="middle" fill="#1f2937">∗</text>

  <!-- Box 5: Comb spectrum -->
  <rect x="260" y="305" width="140" height="130" rx="6" fill="#fef2f2" stroke="#dc2626" stroke-width="2"/>

  <!-- Axis -->
  <line x1="275" y1="380" x2="385" y2="380" stroke="#9ca3af" stroke-width="1" marker-end="url(#arrow-black)"/>
  <line x1="330" y1="420" x2="330" y2="320" stroke="#9ca3af" stroke-width="1"/>
  <text x="390" y="385" font-family="Georgia, serif" font-size="11" fill="#6b7280">f</text>

  <!-- Delta spikes in frequency domain -->
  <g stroke="#dc2626" stroke-width="2">
    <line x1="290" y1="380" x2="290" y2="335"/>
    <line x1="330" y1="380" x2="330" y2="335"/>
    <line x1="370" y1="380" x2="370" y2="335"/>
  </g>
  <g fill="#dc2626">
    <polygon points="290,335 287,343 293,343"/>
    <polygon points="330,335 327,343 333,343"/>
    <polygon points="370,335 367,343 373,343"/>
  </g>

  <!-- Spacing annotation -->
  <text x="290" y="408" font-family="Georgia, serif" font-size="9" text-anchor="middle" fill="#dc2626">−1/a</text>
  <text x="330" y="408" font-family="Georgia, serif" font-size="9" text-anchor="middle" fill="#dc2626">0</text>
  <text x="370" y="408" font-family="Georgia, serif" font-size="9" text-anchor="middle" fill="#dc2626">1/a</text>

  <text x="330" y="455" font-family="Georgia, serif" font-size="13" font-style="italic" text-anchor="middle" fill="#dc2626">comb(af)</text>

  <!-- Equals symbol -->
  <text x="420" y="375" font-family="Georgia, serif" font-size="24" text-anchor="middle" fill="#1f2937">=</text>

  <!-- Box 6: Replicated spectrum -->
  <rect x="450" y="305" width="180" height="130" rx="6" fill="#fef2f2" stroke="#dc2626" stroke-width="2"/>

  <!-- Axis -->
  <line x1="465" y1="380" x2="615" y2="380" stroke="#9ca3af" stroke-width="1" marker-end="url(#arrow-black)"/>
  <line x1="540" y1="420" x2="540" y2="320" stroke="#9ca3af" stroke-width="1"/>
  <text x="620" y="385" font-family="Georgia, serif" font-size="11" fill="#6b7280">f</text>

  <!-- Replicated spectra (three copies) - NO ALIASING -->
  <!-- Left copy -->
  <path d="M 470 380 L 478 355 L 502 355 L 510 380"
        fill="#fecaca" fill-opacity="0.3" stroke="#dc2626" stroke-width="1.5" stroke-dasharray="3 2"/>
  <!-- Center copy (original) -->
  <path d="M 510 380 L 520 350 L 560 350 L 570 380"
        fill="#fecaca" fill-opacity="0.5" stroke="#dc2626" stroke-width="2.5"/>
  <!-- Right copy -->
  <path d="M 570 380 L 578 355 L 602 355 L 610 380"
        fill="#fecaca" fill-opacity="0.3" stroke="#dc2626" stroke-width="1.5" stroke-dasharray="3 2"/>

  <!-- Low-pass filter window -->
  <rect x="508" y="345" width="64" height="40" fill="none" stroke="#059669" stroke-width="2" stroke-dasharray="5 3"/>
  <text x="540" y="340" font-family="Georgia, serif" font-size="10" text-anchor="middle" fill="#059669">LPF</text>

  <text x="540" y="455" font-family="Georgia, serif" font-size="13" font-style="italic" text-anchor="middle" fill="#dc2626">G̃_s(f)</text>

  <!-- ============ RIGHT SIDE: Nyquist Condition ============ -->

  <rect x="640" y="85" width="240" height="375" rx="8" fill="#f8fafc" stroke="#d1d5db" stroke-width="2"/>

  <text x="760" y="115" font-family="Georgia, serif" font-size="15" font-weight="bold" text-anchor="middle" fill="#1f2937">
    Nyquist Criterion
  </text>

  <!-- No aliasing case -->
  <text x="665" y="145" font-family="Georgia, serif" font-size="12" font-weight="bold" fill="#059669">
    ✓ No Aliasing (1/a ≥ 2B)
  </text>

  <!-- Mini diagram: proper sampling -->
  <line x1="665" y1="175" x2="845" y2="175" stroke="#9ca3af" stroke-width="1"/>
  <!-- Well-separated spectra -->
  <path d="M 685 175 L 695 158 L 715 158 L 725 175" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
  <path d="M 745 175 L 755 158 L 775 158 L 785 175" fill="#d1fae5" stroke="#059669" stroke-width="2"/>
  <path d="M 805 175 L 815 158 L 835 158 L 845 175" fill="#d1fae5" stroke="#059669" stroke-width="2"/>

  <text x="760" y="195" font-family="Georgia, serif" font-size="11" text-anchor="middle" fill="#059669">
    Copies don't overlap
  </text>

  <!-- Aliasing case -->
  <text x="665" y="235" font-family="Georgia, serif" font-size="12" font-weight="bold" fill="#dc2626">
    ✗ Aliasing (1/a &lt; 2B)
  </text>

  <!-- Mini diagram: aliasing -->
  <line x1="665" y1="265" x2="845" y2="265" stroke="#9ca3af" stroke-width="1"/>
  <!-- Overlapping spectra -->
  <path d="M 675 265 L 695 240 L 735 240 L 755 265" fill="#fecaca" fill-opacity="0.5" stroke="#dc2626" stroke-width="2"/>
  <path d="M 735 265 L 755 240 L 795 240 L 815 265" fill="#fecaca" fill-opacity="0.5" stroke="#dc2626" stroke-width="2"/>
  <path d="M 795 265 L 815 240 L 855 240 L 875 265" fill="#fecaca" fill-opacity="0.5" stroke="#dc2626" stroke-width="2"/>
  <!-- Overlap region highlight -->
  <rect x="735" y="238" width="20" height="30" fill="#dc2626" fill-opacity="0.3"/>
  <rect x="795" y="238" width="20" height="30" fill="#dc2626" fill-opacity="0.3"/>

  <text x="760" y="285" font-family="Georgia, serif" font-size="11" text-anchor="middle" fill="#dc2626">
    Spectral overlap!
  </text>

  <!-- Key equations -->
  <line x1="665" y1="310" x2="845" y2="310" stroke="#d1d5db" stroke-width="1"/>

  <text x="760" y="335" font-family="Georgia, serif" font-size="13" text-anchor="middle" fill="#1f2937">
    Sample spacing: a
  </text>
  <text x="760" y="358" font-family="Georgia, serif" font-size="13" text-anchor="middle" fill="#1f2937">
    Bandwidth: B
  </text>
  <text x="760" y="385" font-family="Georgia, serif" font-size="14" text-anchor="middle" fill="#1f2937" font-weight="bold">
    Require: a ≤ 1/(2B)
  </text>

  <!-- Recovery note -->
  <line x1="665" y1="405" x2="845" y2="405" stroke="#d1d5db" stroke-width="1"/>
  <text x="760" y="425" font-family="Georgia, serif" font-size="11" text-anchor="middle" fill="#6b7280">
    Recovery: multiply by
  </text>
  <text x="760" y="442" font-family="Georgia, serif" font-size="12" font-style="italic" text-anchor="middle" fill="#059669">
    rect(f/2B)
  </text>

  <!-- ============ BOTTOM ANNOTATION ============ -->

  <rect x="30" y="470" width="600" height="42" rx="6" fill="#f3f4f6" stroke="#d1d5db" stroke-width="1.5"/>

  <text x="330" y="490" font-family="Georgia, serif" font-size="13" text-anchor="middle" fill="#374151">
    <tspan font-weight="bold">Whittaker-Shannon:</tspan> A band-limited signal sampled at ≥ 2× its bandwidth
  </text>
  <text x="330" y="506" font-family="Georgia, serif" font-size="13" text-anchor="middle" fill="#374151">
    can be perfectly reconstructed via sinc interpolation.
  </text>

  <!-- Visual style -->
  <style>
    line, path { stroke-linecap: round; stroke-linejoin: round; }
  </style>
</svg>
