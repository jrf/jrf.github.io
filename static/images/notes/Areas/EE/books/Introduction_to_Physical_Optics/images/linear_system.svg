<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="850" height="420" viewBox="0 0 850 420" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Arrow markers -->
    <marker id="arrow-black" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#1f2937"/>
    </marker>
    <marker id="arrow-blue" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2563eb"/>
    </marker>
    <marker id="arrow-red" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#dc2626"/>
    </marker>
    <!-- Airy disk gradient -->
    <radialGradient id="airy" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#dc2626;stop-opacity:1"/>
      <stop offset="25%" style="stop-color:#dc2626;stop-opacity:0.5"/>
      <stop offset="50%" style="stop-color:#dc2626;stop-opacity:0.2"/>
      <stop offset="75%" style="stop-color:#dc2626;stop-opacity:0.1"/>
      <stop offset="100%" style="stop-color:#dc2626;stop-opacity:0"/>
    </radialGradient>
  </defs>

  <!-- Background -->
  <rect width="850" height="420" fill="#fefefe"/>

  <!-- ============ INPUT PLANE (Left) ============ -->

  <!-- Parallelogram representing input plane -->
  <path d="M 70 70 L 170 50 L 170 250 L 70 270 Z"
        fill="#eff6ff" stroke="#2563eb" stroke-width="2.5"/>

  <!-- Point sources (dots) on input plane -->
  <circle cx="110" cy="95" r="5" fill="#2563eb"/>
  <circle cx="135" cy="125" r="5" fill="#2563eb"/>
  <circle cx="100" cy="160" r="5" fill="#2563eb"/>
  <circle cx="145" cy="185" r="5" fill="#2563eb"/>
  <circle cx="115" cy="220" r="5" fill="#2563eb"/>

  <!-- Arrow pointing to specific point -->
  <line x1="135" y1="48" x2="135" y2="115" stroke="#2563eb" stroke-width="1.5" marker-end="url(#arrow-blue)"/>

  <!-- Input labels -->
  <text x="75" y="38" font-family="Georgia, serif" font-size="15" font-style="italic" fill="#2563eb">
    g₁(x̄₀)δ(x̄₁−x̄₀)
  </text>
  <text x="90" y="300" font-family="Georgia, serif" font-size="16" fill="#1f2937">Input</text>
  <text x="90" y="320" font-family="Georgia, serif" font-size="15" font-style="italic" fill="#2563eb">g₁(x̄₁)</text>

  <!-- ============ ARROW TO SYSTEM ============ -->
  <line x1="185" y1="160" x2="280" y2="160" stroke="#1f2937" stroke-width="2.5" marker-end="url(#arrow-black)"/>

  <!-- ============ LINEAR SYSTEM BOX (Center) ============ -->
  <rect x="295" y="105" width="130" height="110" rx="6"
        fill="#f8fafc" stroke="#1f2937" stroke-width="2.5"/>

  <!-- Script L -->
  <text x="340" y="175" font-family="Georgia, serif" font-size="48" font-style="italic" fill="#1f2937">ℒ</text>

  <!-- System annotation -->
  <text x="360" y="245" font-family="Georgia, serif" font-size="13" text-anchor="middle" fill="#6b7280">
    Linear System
  </text>

  <!-- ============ ARROW TO OUTPUT ============ -->
  <line x1="440" y1="160" x2="535" y2="160" stroke="#1f2937" stroke-width="2.5" marker-end="url(#arrow-black)"/>

  <!-- ============ OUTPUT PLANE (Right) ============ -->

  <!-- Parallelogram representing output plane -->
  <path d="M 560 70 L 660 50 L 660 250 L 560 270 Z"
        fill="#fef2f2" stroke="#dc2626" stroke-width="2.5"/>

  <!-- Airy disk patterns (PSF responses) -->

  <!-- Pattern 1 -->
  <circle cx="620" cy="95" r="18" fill="url(#airy)"/>
  <circle cx="620" cy="95" r="12" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.5"/>
  <circle cx="620" cy="95" r="6" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.7"/>
  <circle cx="620" cy="95" r="3" fill="#dc2626"/>

  <!-- Pattern 2 -->
  <circle cx="640" cy="130" r="16" fill="url(#airy)"/>
  <circle cx="640" cy="130" r="10" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.5"/>
  <circle cx="640" cy="130" r="5" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.7"/>
  <circle cx="640" cy="130" r="2.5" fill="#dc2626"/>

  <!-- Pattern 3 -->
  <circle cx="590" cy="160" r="20" fill="url(#airy)"/>
  <circle cx="590" cy="160" r="14" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.5"/>
  <circle cx="590" cy="160" r="8" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.7"/>
  <circle cx="590" cy="160" r="3.5" fill="#dc2626"/>

  <!-- Pattern 4 -->
  <circle cx="635" cy="190" r="15" fill="url(#airy)"/>
  <circle cx="635" cy="190" r="10" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.5"/>
  <circle cx="635" cy="190" r="5" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.7"/>
  <circle cx="635" cy="190" r="2.5" fill="#dc2626"/>

  <!-- Pattern 5 -->
  <circle cx="600" cy="225" r="17" fill="url(#airy)"/>
  <circle cx="600" cy="225" r="11" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.5"/>
  <circle cx="600" cy="225" r="6" fill="none" stroke="#dc2626" stroke-width="1" opacity="0.7"/>
  <circle cx="600" cy="225" r="3" fill="#dc2626"/>

  <!-- Arrow pointing to PSF -->
  <line x1="635" y1="38" x2="622" y2="80" stroke="#dc2626" stroke-width="1.5" marker-end="url(#arrow-red)"/>

  <!-- Output labels -->
  <text x="600" y="30" font-family="Georgia, serif" font-size="15" font-style="italic" fill="#dc2626">
    h(x̄₂; x̄₀)
  </text>
  <text x="580" y="300" font-family="Georgia, serif" font-size="16" fill="#1f2937">Output</text>
  <text x="580" y="320" font-family="Georgia, serif" font-size="15" font-style="italic" fill="#dc2626">g₂(x̄₂)</text>

  <!-- ============ ANNOTATIONS ============ -->

  <!-- Annotation box at bottom -->
  <rect x="120" y="355" width="600" height="55" rx="6" fill="#f3f4f6" stroke="#d1d5db" stroke-width="1.5"/>

  <text x="420" y="378" font-family="Georgia, serif" font-size="14" text-anchor="middle" fill="#374151">
    <tspan font-weight="bold">Superposition principle:</tspan> Run each point source through ℒ separately,
  </text>
  <text x="420" y="398" font-family="Georgia, serif" font-size="14" text-anchor="middle" fill="#374151">
    then sum the responses (point spread functions) to form the output.
  </text>

  <!-- Visual style -->
  <style>
    line, path { stroke-linecap: round; stroke-linejoin: round; }
  </style>
</svg>
