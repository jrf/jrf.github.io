<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="900" height="530" viewBox="0 0 900 530" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <!-- Arrow markers -->
    <marker id="arrow-black" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 L3,6 z" fill="#1f2937"/>
    </marker>
    <marker id="arrow-red" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 L3,6 z" fill="#dc2626"/>
    </marker>
    <marker id="arrow-blue" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 L2,5 z" fill="#2563eb"/>
    </marker>
    <marker id="arrow-green" markerWidth="10" markerHeight="10" refX="8" refY="5" orient="auto">
      <path d="M0,0 L10,5 L0,10 L2,5 z" fill="#059669"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="900" height="530" fill="#fefefe"/>
  <rect x="15" y="15" width="870" height="500" fill="white" stroke="#374151" stroke-width="2" rx="8"/>

  <!-- Title -->
  <text x="450" y="50" font-family="Georgia, serif" font-size="22" font-weight="bold" text-anchor="middle" fill="#1f2937">
    Plane Wave Geometry: Angle to Spatial Frequency
  </text>

  <!-- ============ MAIN DIAGRAM (Left side) ============ -->

  <!-- z-axis (horizontal) -->
  <line x1="50" y1="310" x2="520" y2="310" stroke="#1f2937" stroke-width="2" marker-end="url(#arrow-black)"/>
  <text x="530" y="315" font-family="Georgia, serif" font-size="20" font-style="italic" fill="#1f2937">z</text>

  <!-- Observation plane at z₀ (vertical x-axis) -->
  <line x1="180" y1="120" x2="180" y2="450" stroke="#059669" stroke-width="4"/>
  <text x="192" y="138" font-family="Georgia, serif" font-size="20" font-style="italic" fill="#059669">x</text>

  <!-- z₀ label -->
  <text x="168" y="330" font-family="Georgia, serif" font-size="16" fill="#059669">z₀</text>

  <!-- Origin point -->
  <circle cx="180" cy="310" r="5" fill="#1f2937"/>

  <!-- Wavefronts (dashed blue lines) - perpendicular to k -->
  <!-- Angle of k from horizontal ≈ 55°, so wavefronts are at 90° to that -->
  <g stroke="#3b82f6" stroke-width="2.5" stroke-dasharray="12 8" opacity="0.8">
    <!-- These lines are perpendicular to the k vector -->
    <line x1="100" y1="130" x2="380" y2="310"/>
    <line x1="140" y1="110" x2="420" y2="290"/>
    <line x1="180" y1="90" x2="460" y2="270"/>
    <line x1="220" y1="70" x2="500" y2="250"/>
  </g>

  <!-- Wavefront label -->
  <text x="400" y="225" font-family="Georgia, serif" font-size="14" fill="#3b82f6" transform="rotate(-55, 400, 225)">
    wavefronts (const. phase)
  </text>

  <!-- Wave vector k (red, bold) -->
  <line x1="190" y1="300" x2="400" y2="160" stroke="#dc2626" stroke-width="4" marker-end="url(#arrow-red)"/>
  <text x="415" y="155" font-family="Georgia, serif" font-size="24" font-weight="bold" font-style="italic" fill="#dc2626">k</text>

  <!-- Angle θ arc (from x-axis to k) -->
  <path d="M 180 230 A 80 80 0 0 1 250 195" fill="none" stroke="#7c3aed" stroke-width="2.5"/>
  <text x="225" y="205" font-family="Georgia, serif" font-size="22" font-style="italic" fill="#7c3aed">θ</text>

  <!-- Intersection points on observation plane (where wavefronts cross x-axis) -->
  <circle cx="180" cy="178" r="6" fill="#f97316"/>
  <circle cx="180" cy="226" r="6" fill="#f97316"/>
  <circle cx="180" cy="274" r="6" fill="#f97316"/>

  <!-- λₓ spacing bracket -->
  <line x1="155" y1="178" x2="155" y2="226" stroke="#f97316" stroke-width="2"/>
  <line x1="148" y1="178" x2="162" y2="178" stroke="#f97316" stroke-width="2"/>
  <line x1="148" y1="226" x2="162" y2="226" stroke="#f97316" stroke-width="2"/>
  <text x="115" y="208" font-family="Georgia, serif" font-size="18" font-style="italic" fill="#f97316">λₓ</text>

  <!-- "Moving up x-axis" annotation with arrow -->
  <line x1="180" y1="410" x2="180" y2="370" stroke="#059669" stroke-width="2" marker-end="url(#arrow-green)"/>
  <text x="200" y="400" font-family="Georgia, serif" font-size="14" fill="#059669">moving up</text>
  <text x="200" y="418" font-family="Georgia, serif" font-size="14" fill="#059669">x-axis at z₀</text>

  <!-- Phase indicator near intersection points -->
  <text x="100" y="175" font-family="Georgia, serif" font-size="12" fill="#6b7280">φ = 0</text>
  <text x="100" y="223" font-family="Georgia, serif" font-size="12" fill="#6b7280">φ = 2π</text>
  <text x="100" y="271" font-family="Georgia, serif" font-size="12" fill="#6b7280">φ = 4π</text>

  <!-- ============ RIGHT SIDE: Explanation ============ -->

  <rect x="540" y="110" width="320" height="395" rx="8" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>

  <text x="700" y="145" font-family="Georgia, serif" font-size="18" font-weight="bold" text-anchor="middle" fill="#1f2937">
    Key Relationships
  </text>

  <!-- Geometry section -->
  <text x="560" y="180" font-family="Georgia, serif" font-size="15" font-weight="bold" fill="#374151">Geometry:</text>

  <text x="570" y="210" font-family="Georgia, serif" font-size="14" fill="#1f2937">
    Wavefronts perpendicular to
  </text>
  <text x="570" y="228" font-family="Georgia, serif" font-size="14" fill="#dc2626" font-style="italic" font-weight="bold">k</text>

  <!-- Spacing formula -->
  <text x="560" y="265" font-family="Georgia, serif" font-size="15" font-weight="bold" fill="#374151">Apparent wavelength on x-axis:</text>

  <text x="620" y="295" font-family="Georgia, serif" font-size="18" fill="#f97316" font-style="italic">
    λₓ = λ / cos θ
  </text>

  <!-- Spatial frequency -->
  <text x="560" y="335" font-family="Georgia, serif" font-size="15" font-weight="bold" fill="#374151">Spatial frequency:</text>

  <text x="620" y="365" font-family="Georgia, serif" font-size="18" fill="#2563eb" font-style="italic">
    fₓ = cos θ / λ
  </text>

  <!-- Physical meaning -->
  <text x="560" y="400" font-family="Georgia, serif" font-size="15" font-weight="bold" fill="#374151">Physical meaning:</text>

  <text x="570" y="425" font-family="Georgia, serif" font-size="13" fill="#1f2937">
    As you traverse the x-axis at z₀,
  </text>
  <text x="570" y="443" font-family="Georgia, serif" font-size="13" fill="#1f2937">
    the field oscillates as:
  </text>
  <text x="610" y="467" font-family="Georgia, serif" font-size="16" fill="#7c3aed" font-style="italic">
    u(x) ~ exp(j kₓ x)
  </text>
  <text x="610" y="485" font-family="Georgia, serif" font-size="13" fill="#6b7280">
    where kₓ = k cos θ
  </text>

  <!-- Visual style -->
  <style>
    line, path { stroke-linecap: round; stroke-linejoin: round; }
  </style>
</svg>
